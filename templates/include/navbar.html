{% load static %}

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:"Segoe UI",Arial,sans-serif}

/* ================= NAVBAR ================= */
.navbar{
    width:100%;
    position:sticky;
    top:0;
    z-index:1000;
    background:#ffffff;
    border-bottom:1px solid #eaeaea;
}

.nav-container{
    width:100%;
    padding:10px 20px;
    display:flex;
    align-items:center;
}

/* LOGO */
.nav-logo{
    display:flex;
    align-items:center;
    gap:10px;
    text-decoration:none;
    color:#111;
}
.nav-logo img{
    height:40px;
    width:40px;
    border-radius:50%;
}
.brand{
    font-size:19px;
    font-weight:700;
}
.brand span{color:#ff7a00}

/* MENU */
.nav-menu{
    list-style:none;
    display:flex;
    align-items:center;
    gap:26px;
    margin-left:auto;
}

.nav-menu a{
    text-decoration:none;
    color:#333;
    font-size:14.5px;
    font-weight:500;
    padding:4px 0;
    position:relative;
    white-space:nowrap;
}

/* UNDERLINE */
.nav-menu a::after{
    content:"";
    position:absolute;
    left:0;
    bottom:-5px;
    width:0;
    height:2px;
    background:#ff7a00;
    transition:.25s;
}
.nav-menu a:hover::after,
.nav-menu a.active::after{
    width:100%;
}
.nav-menu a.active{
    color:#ff7a00;
}

/* CTA */
.nav-cta a{
    border:2px solid #ff7a00;
    color:#ff7a00;
    padding:6px 16px;
    border-radius:22px;
    font-size:13.5px;
    font-weight:600;
}
.nav-cta a:hover{
    background:#ff7a00;
    color:#fff;
}

/* ================= MOBILE (SCROLLABLE) ================= */
@media(max-width:900px){

    .navbar{overflow-x:hidden}

    .nav-container{
        padding:8px 12px;
    }

    .nav-menu{
        flex-wrap:nowrap;
        overflow-x:auto;
        scrollbar-width:none;
        gap:18px;
        margin-left:14px;
        padding:8px 4px;
    }

    .nav-menu::-webkit-scrollbar{display:none}

    .nav-menu li{
        flex-shrink:0;
    }

    .nav-menu a{
        padding:8px 10px;
        font-size:14px;
    }

    .nav-menu a::after{display:none}

    .nav-cta a{
        background:#ff7a00;
        color:#fff;
        border:none;
        padding:8px 14px;
        border-radius:20px;
    }
}
</style>

<nav class="navbar">
    <div class="nav-container">

        <a href="/" class="nav-logo">
            <img src="{% static 'img/logo.png' %}">
            <div class="brand"><span>शिपी</span> आमटी</div>
        </a>

        <ul class="nav-menu">
            <li><a href="#hero" class="active">मुख्यपृष्ठ</a></li>
            <li><a href="#products">उत्पादने</a></li>
            <li><a href="#how_to_use">वापरण्याची पद्धत</a></li>
            <li><a href="#how_to_order">ऑर्डर कशी करावी</a></li>
            <li><a href="#gallery">गॅलरी</a></li>
            <li><a href="#about_us">आमच्याबद्दल</a></li>
            <li class="nav-cta"><a href="#contact_us">संपर्क</a></li>
        </ul>

    </div>
</nav>

<!-- ================= SCROLL SPY ================= -->
<script>
document.addEventListener("DOMContentLoaded", () => {

    const sections = document.querySelectorAll("section[id]");
    const navLinks = document.querySelectorAll(".nav-menu a");

    function setActiveMenu(){
        let scrollPos = window.scrollY + 130;

        sections.forEach(section => {
            const top = section.offsetTop;
            const height = section.offsetHeight;
            const id = section.getAttribute("id");

            if(scrollPos >= top && scrollPos < top + height){
                navLinks.forEach(link => {
                    link.classList.remove("active");

                    if(link.getAttribute("href") === `#${id}`){
                        link.classList.add("active");

                        /* auto-center active item on mobile */
                        link.scrollIntoView({
                            behavior:"smooth",
                            inline:"center",
                            block:"nearest"
                        });
                    }
                });
            }
        });
    }

    window.addEventListener("scroll", setActiveMenu);
});
</script>
